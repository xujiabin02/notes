

# 反亲和

在虚拟机管理中，反亲和（Anti-Affinity）是一种策略，用于确保特定的虚拟机不会运行在同一个物理主机或集群上。这种策略常用于以下几种场景：

|                              |                                                              |      |
| ---------------------------- | ------------------------------------------------------------ | ---- |
| **提高容错能力**             | 通过将关键的虚拟机分散到不同的物理服务器上，可以减少单点故障的风险。例如，如果一个物理服务器因为硬件故障而宕机，那么只会影响该服务器上的虚拟机，而与之反亲和的虚拟机则不会受到影响。 |      |
| **负载均衡**                 | 反亲和策略可以帮助更均匀地分配系统资源，避免某一台物理服务器上的资源被过度使用而导致性能瓶颈。 |      |
| **合规性和安全性**           | 某些情况下，安全或合规性要求需要确保敏感数据处理的虚拟机与其他虚拟机隔离，以防止数据泄漏或干扰。 |      |
| **测试环境与生产环境的分离** | 在测试和生产环境共用同一底层硬件资源的情况下，使用反亲和策略可以确保生产环境的虚拟机不会与测试环境的虚拟机部署在同一物理服务器上，从而避免测试活动对生产环境造成影响。 |      |



# qemu-guest-agent安装,热修改密码



```diff
#ubuntu
+ apt-get install qemu-guest-agent
# centos
- yum install qemu-guest-agent
```

启动

```shell
systemctl start qemu-guest-agent
systemctl enable qemu-guest-agent
```



